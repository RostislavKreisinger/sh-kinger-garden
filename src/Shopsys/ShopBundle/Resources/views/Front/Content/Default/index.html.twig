{% extends '@ShopsysShop/Front/Layout/layoutWithPanel.html.twig' %}
{% import '@ShopsysShop/Front/Content/Product/productListMacro.html.twig' as productList %}

{% block breadcrumb %}
{% endblock %}

{% block meta_description %}
    {{- metaDescription -}}
{% endblock %}

{% block title %}
    {{- title -}}
{% endblock %}

{% block logo %}
    <h1 class="logo">
        <img src="{{ asset('assets/frontend/images/logo.svg') }}" alt="{{ 'Online shop'|trans }}">
    </h1>
{% endblock %}

{% block main_content %}

    {% if sliderItems is not empty %}
        <div class="box-slider">
            <div id="js-slider-homepage" class="box-slider__in">
                {% for item in sliderItems %}
                    <div class="box-slider__item">
                        <a href = "{{ item.link }}">{{ image(item) }}</a>
                    </div>
                {% endfor %}
            </div>
        </div>
    {% endif %}

    {{ render(controller('ShopsysShopBundle:Front/Category:top')) }}

    {% if topProducts is not empty %}
        <div id="top-products">
            <h2>{{ 'Special offers'|trans }}</h2>
            {{ productList.list(topProducts, null, 'h3') }}
        </div>
    {% endif %}

    {% if homepageArticles is not empty %}
        <div id="homepage-articles">
            <h3><a href="{{ url('front_article_list') }}">{{ 'Articles'|trans }}</a></h3>
            {% for article in homepageArticles %}
                <div class="box-article__item">
                    <a href = "{{ url( 'front_article_detail', {id:article.id} ) }}">{{ article.name }}</a>
                    <div>{{ article.text|striptags|slice(0,200) }}</div>
                </div>
            {% endfor %}

        </div>
    {% endif %}

{% endblock %}
